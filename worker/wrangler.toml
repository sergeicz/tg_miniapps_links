name = "telegram-miniapp-api"
main = "index.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

# Account ID (обязательно для GitHub Actions)
account_id = "9787bc5a799dbb7d09f45960759b564d"

# KV для хранения состояния создания рассылок
[[kv_namespaces]]
binding = "BROADCAST_STATE"
id = "b883ce45a3ce4431969d209637709300"

# Cron Triggers - автоматическая проверка и обновление пользователей каждые 5 минут
[triggers]
crons = ["*/5 * * * *"]

# Переменные окружения (НЕ ДОБАВЛЯЙТЕ СЮДА СЕКРЕТЫ!)
# Секреты добавляйте через: wrangler secret put <SECRET_NAME>

# Для установки секретов выполните:
# wrangler secret put CREDENTIALS_JSON
# wrangler secret put SHEET_ID
# wrangler secret put BOT_TOKEN

# Настройки для разработки
[env.dev]
# Можете добавить тестовые переменные для dev окружения

# Настройки для продакшена
[env.production]
# Продакшен переменные (через wrangler secret put)
